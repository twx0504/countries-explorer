<!doctype html>
<!-- TODO: js Dealing with dark-mode by changing it to dark -->
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Country Flag Explorer | Rest Country API</title>
    <link
      rel="preload"
      href="./assets/fonts/nunito-sans-v19-latin-300.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="./assets/fonts/nunito-sans-v19-latin-regular.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="./assets/fonts/nunito-sans-v19-latin-600.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="./assets/fonts/nunito-sans-v19-latin-800.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <link rel="stylesheet" href="./css/main.css" />
  </head>
  <body>
    <header class="header">
      <a href="/">
        <h1 class="header__title text-preset-2">Where in the world?</h1>
      </a>
      <div
        class="header__theme-toggle js-header__theme-toggle text-preset-4-semibold"
        aria-label="Switch to dark mode"
      >
        <!-- TODO: Require js to change the icon and text. -->
        <span class="theme-logo js-theme-logo iconfont">&#xe600;</span>
        <span class="js-theme-text">Dark Mode</span>
      </div>
    </header>
    <main class="main">
      <!-- TODO: js Clicking country-card, the toolbar and countries will be disappeared. -->
      <section class="toolbar">
        <label class="toolbar__search" for="searchInp">
          <input
            id="searchInp"
            type="text"
            class="js-toolbar__search-inp"
            placeholder="Search for a country..."
          />
          <span class="search-icon iconfont">&#xe60d;</span>
        </label>
        <div class="toolbar__filter text-preset-5-regular">
          <div class="toolbar__filter-toggle js-toolbar__filter-toggle">
            Filter by Region
            <span class="toolbar__filter-icon iconfont">&#xe629;</span>
          </div>
          <ul class="toolbar__filter-options js-toolbar__filter-options hidden">
            <li class="toolbar__filter-item">All</li>
            <li class="toolbar__filter-item">Africa</li>
            <li class="toolbar__filter-item">America</li>
            <li class="toolbar__filter-item">Asia</li>
            <li class="toolbar__filter-item">Europe</li>
            <li class="toolbar__filter-item">Oceania</li>
          </ul>
        </div>
      </section>
      <section class="countries">
        <!-- country cards -->
      </section>
      <!-- TODO: JS Show country-detail -->
      <!-- <section class="country-detail">
        <a class="back-link" href="/"
          ><span class="iconfont">&#xe671; </span>Back</a
        >
        <article>
          <section class="country-image">
            <img src="https://flagcdn.com/be.svg" alt="Belgium" />
          </section>
          <section class="country-description">
            <h2 class="text-preset-1">Belgium</h2>
            <div class="country-detail__info text-preset-5-light">
              <ul>
                <li>
                  <strong class="text-preset-5-semibold">Native Name: </strong
                  ><span>BelgiÃ«</span>
                </li>
                <li>
                  <strong class="text-preset-5-semibold">Population: </strong
                  ><span>11,319,511 </span>
                </li>
                <li>
                  <strong class="text-preset-5-semibold">Region: </strong
                  ><span>Europe</span>
                </li>
                <li>
                  <strong class="text-preset-5-semibold">Sub Region: </strong
                  ><span>Western Europe</span>
                </li>
                <li>
                  <strong class="text-preset-5-semibold">Capital: </strong
                  ><span>Brussels </span>
                </li>
              </ul>
              <ul>
                <li>
                  <strong class="text-preset-5-semibold"
                    >Top Level Domain: </strong
                  ><span>.be</span>
                </li>
                <li>
                  <strong class="text-preset-5-semibold">Currencies: </strong
                  ><span>Euro </span>
                </li>
                <li>
                  <strong class="text-preset-5-semibold">Languages: </strong
                  ><span>Dutch, French, German</span>
                </li>
              </ul>
            </div>
            <div class="country-detail__borders">
              <strong class="text-preset-5-semibold">Border Countries: </strong>
              <ul class="text-preset-5-light">
                <li>France</li>
                <li>Germany</li>
                <li>Netherlands</li>
              </ul>
            </div>
          </section>
        </article>
      </section> -->
    </main>
    <script src="./js/main.js"></script>
    <script type="module">
      import { renderCountryCards } from "./js/view/view.js";
      import { COUNTRY_URL } from "./js/data/constants.js";
      import {
        fetchAll,
        fetchCountryInfo,
        filterByRegion,
        filterBySearch,
        countryCardsData,
        cca3ToNameMap,
        filteredCountryData,
        createCountryDetail,
        countryDetail,
      } from "./js/data/data.js";

      // fetchAll(COUNTRY_URL).then(() => {
      //   filterByRegion("ASIA");

      //   filterBySearch("C");
      //   console.log(filteredCountryData);
      //   // console.log(cca3ToNameMap);
      // });

      // fetchCountryInfo("malaysia").then((d) => {
      //   createCountryDetail(d);
      //   console.log(countryDetail);
      // });
      renderCountryCards();
    </script>
  </body>
</html>
